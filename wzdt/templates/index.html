<!doctype html>
<head>
    <meta charset="utf-8" />
    <title>答题辅助系统</title>

    <style>
        li { list-style: none; }
    </style>

    <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="http://static.runoob.com/assets/jquery/jquery.growl/javascripts/jquery.growl.js" type="text/javascript"></script>
    <link href="http://static.runoob.com/assets/jquery/jquery.growl/stylesheets/jquery.growl.css" rel="stylesheet" type="text/css" />
    <script>
        $(document).ready(function() {
            if (!window.WebSocket) {
                if (window.MozWebSocket) {
                    window.WebSocket = window.MozWebSocket;
                } else {
                    event.preventDefault();
                    event.stopPropagation();
                    return $.growl.error({
                        title: "提示",
                        message: "连接服务器失败!"
                    });
                }
            }
            var ws = new WebSocket('ws://localhost:5000/wzdt');
            ws.onopen = function(evt) {
                $.growl({
                  title: "提示",
                  message: "连接成功!"
                });
            }
            ws.onmessage = function(evt) {
                $('#messages').append('<li>' + evt.data + '</li>');
            }
            ws.onclose = function(evt) {
                  event.preventDefault();
                  event.stopPropagation();
                  return $.growl.error({
                    title: "提示",
                    message: "连接已关闭!"
                  });
            }
        });
    </script>
</head>
<body>
    <h2>答题辅助系统</h2>
    <div id="messages"></div>
</body>
</html>
